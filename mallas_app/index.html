<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Malla</title>
  <link rel="stylesheet" href="/styles.css">
</head>
<body>
  <h1>Malla</h1>

  <div class="top">
    <div class="pill muted">Base: <span id="base"></span></div>
    <div class="pill muted">Versión: <span id="ver"></span></div>
    <div class="pill muted">Cursos: <b id="count">0</b></div>
    <label class="pill toggle"><input id="draftToggle" type="checkbox" /> <b>Modo borrador</b></label>
    <label class="pill toggle" title="Tema claro/oscuro"><input id="themeToggle" type="checkbox" /> <b>Oscuro</b></label>

    <input id="filter" type="text" placeholder="Filtrar (sigla/nombre)" />
    <button id="reloadBtn" type="button">Recargar</button>
    <button id="saveBtn" type="button" disabled>Guardar</button>
    <button id="resetBtn" type="button">Reset</button>
    <button id="hardResetBtn" type="button" title="Borra malla_draft.json y recarga (requiere confirmación)">Restaurar desde disco</button>
  </div>

  <div class="bar">    <button class="pill" id="warningsBtn" type="button">Warnings: <b id="warnCount">0</b></button>
    <button id="materializeAllTemps" type="button">Materializar temporales</button>

    <span class="muted">Agregar período (solo borrador):</span>
    <input id="addYear" type="number" placeholder="Año" style="width:100px;" />
    <select id="addSem">
      <option value="0">0 (V)</option>
      <option value="1">1 (I)</option>
      <option value="2">2 (P)</option>
    </select>
    <button id="addTermBtn" type="button" disabled>Agregar</button>
  </div>

  <div class="legend" id="legend" aria-label="Leyenda de colores"></div>

  <div class="notice" id="notice" role="status" aria-live="polite">
    <div class="txt" id="noticeText"></div>
    <button class="x" id="noticeClose" type="button" aria-label="Cerrar">×</button>
  </div>

  <div class="modal-backdrop" id="warningsModal">
    <div class="modal" role="dialog" aria-modal="true" aria-label="Warnings">
      <div class="modal-h">
        <div class="modal-title">Warnings</div>
        <div class="modal-controls">
          <label class="muted chk">
            <input id="showIgnored" type="checkbox" />
            Mostrar ignorados
          </label>
          <button id="warningsClose" type="button">Cerrar</button>
        </div>
      </div>
      <div class="modal-body" id="warningsList"></div>
    </div>
  </div>

  <div class="grid-wrap"><div class="grid" id="grid"></div></div>

  <details>
    <summary class="muted">Debug (payload)</summary>
    <pre id="debugPre"></pre>
  </details>

  <script type="module" src="/app.js"></script>
</body>
</html>
